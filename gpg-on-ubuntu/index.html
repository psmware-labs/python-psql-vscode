<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><link href="../assets/images/favicon.png" rel="icon"/><meta content="mkdocs-1.1.2, mkdocs-material-7.1.5" name="generator"/><title>GPG on Ubuntu/GitHub - psmware labs Python/PostgreSQL Template Project</title><link href="../assets/stylesheets/main.bde7dde4.min.css" rel="stylesheet"/><link href="../assets/stylesheets/palette.ef6f36e2.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link href="../assets/_mkdocstrings.css" rel="stylesheet"/></head> <body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr"> <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#installing-gpg"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="psmware labs Python/PostgreSQL Template Project" class="md-header__button md-logo" data-md-component="logo" href=".." title="psmware labs Python/PostgreSQL Template Project"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> psmware labs Python/PostgreSQL Template Project </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> GPG on Ubuntu/GitHub </span> </div> </div> </div> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </label> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg> </button> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix=""> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list"></ol> </div> </div> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="psmware labs Python/PostgreSQL Template Project" class="md-nav__button md-logo" data-md-component="logo" href=".." title="psmware labs Python/PostgreSQL Template Project"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg> </a> psmware labs Python/PostgreSQL Template Project </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/> <label class="md-nav__link" for="__nav_1"> Installation of the Development Environment <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Installation of the Development Environment" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_1"> <span class="md-nav__icon md-icon"></span> Installation of the Development Environment </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../prerequisites/"> Prerequisites </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../ubuntu/"> Install Ubuntu on Windows </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../ssh-on-ubuntu/"> SSH on Ubuntu/GitHub </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> GPG on Ubuntu/GitHub <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> GPG on Ubuntu/GitHub </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#installing-gpg"> Installing GPG </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#installation-steps"> Installation Steps </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#adding-your-gpg-public-key-to-github"> Adding your GPG Public Key to Github </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../gpg-and-git/"> Git on Ubuntu </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../vscode/"> Visual Studio Code </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../docker-dekstop/"> Docker Desktop </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/> <label class="md-nav__link" for="__nav_2"> Using the Template <span class="md-nav__icon md-icon"></span> </label> <nav aria-label="Using the Template" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_2"> <span class="md-nav__icon md-icon"></span> Using the Template </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../using-the-template/"> A New repository from the Template </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../cloning-the-repo/"> Cloning the Repository </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../first-run/"> Configuring project for 1st run </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../using-the-new-repo/"> Using the New Repository </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#installing-gpg"> Installing GPG </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#installation-steps"> Installation Steps </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#adding-your-gpg-public-key-to-github"> Adding your GPG Public Key to Github </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1>GPG on Ubuntu/GitHub</h1> <h2 id="installing-gpg">Installing GPG</h2> <p>Using GPG, you sign tags and commits locally. These tags or commits are marked as verified on GitHub so other people in the Team can trust that the changes come from a trusted source. I suggest commit signing for all code.</p> <h2 id="installation-steps">Installation Steps</h2> <p>Open a Ubuntu Terminal. In the terminal run the following.</p> <pre><code class="language-bash">devops@devops-pc:~$ gpg --full-generate-key
gpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
  (14) Existing key from card
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (3072) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) 0
Key does not expire at all
</code></pre> <p>If you have made no mistakes, Type Y, press Enter/Return, otherwise type N to restart the process.</p> <pre><code class="language-bash">Is this correct? (y/N) y
</code></pre> <p>Now, proceed with setting up your credentials for signing. In this example, I am using <em>Lab Developer</em> and <em>lab-dev@domain.com</em>, for demonstration purposes. Use your own name and email.</p> <pre><code class="language-bash">GnuPG needs to construct a user ID to identify your key.

Real name: Lab Developer
Email address: lab-dev@domain.com
Comment: enter comment here
You selected this USER-ID:
    "Lab Developer (enter comment here) &lt;lab-dev@domain.com&gt;"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit?
</code></pre> <p>If you have made no mistakes, Type <code>O</code>, press Enter/Return, otherwise type <code>N</code>, <code>E</code>, or <code>C</code> to fix the appropriate part of the key, then press O to continue.</p> <p>After a while, the password dialog box shown will appear, enter a good passphrase twice to protect your key, then click OK to continue.</p> <pre><code class="language-bash">    ┌──────────────────────────────────────────────────────┐
    │ Please enter a passphrase                           │
    │ Passphrase: ***********____________________________ │
    │       &lt;OK&gt;                              &lt;Cancel&gt;    │
    └──────────────────────────────────────────────────────┘
</code></pre> <p>And to confirm</p> <pre><code class="language-bash">    ┌──────────────────────────────────────────────────────┐
    │ Please re-enter this passphrase                     │
    │ Passphrase: ***********____________________________ │
    │       &lt;OK&gt;                              &lt;Cancel&gt;    │
    └──────────────────────────────────────────────────────┘
</code></pre> <p>We need to generate a lot of random bytes. It is a good idea to perform some other action (type on the keyboard, move the mouse, utilise the disks) during the prime generation; this gives the random number generator a better chance to gain enough entropy.</p> <pre><code class="language-bash">gpg: /home/devops/.gnupg/trustdb.gpg: trustdb created
gpg: key A9E3031D40E7A31F marked as ultimately trusted
gpg: directory '/home/devops/.gnupg/openpgp-revocs.d' created
gpg: revocation certificate stored as '/home/devops/.gnupg/openpgp-revocs.d/71859D719307C206B6936735A9E3031D40E7A31F.rev'
public and secret key created and signed.

pub   rsa4096 2020-07-03 [SC]
     71859D719307C206B6936735A9E3031D40E7A31F
uid                      Lab Developer (enter comment here) lab-dev@domain.com
sub   rsa4096 2020-07-03 [E]

devops@devops-pc:~$
</code></pre> <p>The detail of your pubring.kbx should show your newly created key. List your key details as follows.</p> <pre><code class="language-bash">devops@devops-pc:~$ gpg --list-secret-keys --keyid-format LONG
/home/devops/.gnupg/pubring.kbx
-------------------------------
sec   rsa4096/A9E3031D40E7A31F 2020-07-03 [SC]
     71859D719307C206B6936735A9E3031D40E7A31F
uid                 [ultimate] Lab Developer (enter comment here) lab-dev@domain.com
ssb   rsa4096/B8239EB7C4286DAB 2020-07-03 [E]
devops@devops-pc:~$
</code></pre> <p>The last thing to do is ensure that GPG knows where to execute its signing process. To configure this, run the following in your Ubuntu terminal:</p> <pre><code class="language-bash">devops@devops-pc:~$ echo "export GPG_TTY=$(tty)" &gt;&gt; ~/.bashrc
devops@devops-pc:~$ source ~/.bashrc
devops@devops-pc:~$ env | grep GPG
GPG_TTY=/dev/pts/0
devops@devops-pc:~$
GPG is now installed and configured.
</code></pre> <h2 id="adding-your-gpg-public-key-to-github">Adding your GPG Public Key to Github</h2> <p>In the upper-right corner of any page, click your profile photo, then click Settings.</p> <p><img alt="alt" src="../img/gh-settings.png"/></p> <p>In the user settings sidebar, click SSH and GPG keys.</p> <p><img alt="alt" src="../img/add-gpg.png"/></p> <p>Click <strong>New GPG key</strong>.</p> <p><img alt="alt" src="../img/new-gpg.png"/></p> <p>In the same terminal that you had open for the creation of your GPG key, again, type the following to list your gpg keys. Again for demonstration purposes I am using Lab Developer's here.</p> <pre><code class="language-bash">devops@devops-pc:~$ gpg --list-secret-keys --keyid-format LONG
/home/devops/.gnupg/pubring.kbx
-------------------------------
sec   rsa4096/A9E3031D40E7A31F 2020-07-03 [SC]
      71859D719307C206B6936735A9E3031D40E7A31F
uid                 [ultimate] Lab Developer (enter comment here) lab-dev@domain.com
ssb   rsa4096/B8239EB7C4286DAB 2020-07-03 [E]
devops@devops-pc:~$
</code></pre> <p>From the list of GPG keys, copy the GPG key ID that corresponds to your credentials. In this example, the GPG key ID is <strong>A9E3031D40E7A31F</strong> from the line beginning with <code>sec</code> above. Now we export the public key associated with your credential, by running the following. In the example here we are using the key listed above. This exports the key in ASCII format to allow for copying to GitHub.</p> <pre><code class="language-bash">devops@devops-pc:~$ gpg --armor --export A9E3031D40E7A31F
-----BEGIN PGP PUBLIC KEY BLOCK-----      # Copy this line as well•
mQINBF3/pfYBEADBtsYohFlwuKqFcuekU3CybI3dAY4K/kFfQQHOiSRc/n4KAXc3
WdA3NscYfLjYURfGpS2A91dV5XUkyN7J70w2q7SII4TXndpsEfXBEq0/Iv8Qj6Al
hXofy4XRR2KZBRZdbxqHBrmrxpRVR6meBYOpOVxptxkq64i4nyJVLVRDMXm7isA9
RNIcRBzO5ycuSrNvsh9ZyruLWEIHcWR9maYd6nRjjhTjV8VMbwqay1KmNPQbJbxF
•&lt;!--              snipped text for convenience               --&gt;
•LOu4rLotu1Z8MYqp4ZY89vur1E81vDMULB0I8ejYgwKBbLDqVfWgpy+z5rHTEwoK
8aJ9iLRuVPt0R97akNSyOdbSYjsU36I06KijB+uLBi4mKQ5q4Y08eIfSDSas5YlD
+OLY6oPTvc3WL8U==GdYQ
-----END PGP PUBLIC KEY BLOCK-----       # Copy this line as well
</code></pre> <p>Select your key including the <strong>BEGIN/END</strong> lines, as indicated above, and paste the text into the Key field in GitHub</p> <p>Click the green <strong>Add GPG Key</strong> button.</p> <p><img alt="alt" src="../img/save-gpg.png"/></p> <p>When prompted, confirm your GitHub password. Your GPG Key has now been added and is ready for use with GitHub.</p> <hr/> <div class="md-source-date"> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">May 21, 2021</span> </small> </div> </article> </div> </div> </main> <footer class="md-footer"> <nav aria-label="Footer" class="md-footer__inner md-grid"> <a class="md-footer__link md-footer__link--prev" href="../ssh-on-ubuntu/" rel="prev"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </div> <div class="md-footer__title"> <div class="md-ellipsis"> <span class="md-footer__direction"> Previous </span> SSH on Ubuntu/GitHub </div> </div> </a> <a class="md-footer__link md-footer__link--next" href="../gpg-and-git/" rel="next"> <div class="md-footer__title"> <div class="md-ellipsis"> <span class="md-footer__direction"> Next </span> Git on Ubuntu </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-footer-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script> <script src="../assets/javascripts/bundle.a1609d9a.min.js"></script> </body> </html>